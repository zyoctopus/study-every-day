#### 什么是RPC
远程过程调用，也就是说两台服务器A，B，一个应用部署在A服务器上，想要调用B服务器上应用提供的函数/方法，，由于不在一个内存空间，不能直接调用，需要通过网络来表达调用的语义和传达调用的数据。

> 难点和重点在于如何远程寻址，并且由于网络协议是基于二进制的，内存中的参数的值要序列化成二进制的形式，也就是序列化（Serialize）或编组（marshal），之后还要进行反序列化；

RPC就是要像调用本地函数一样去调用远程函数。
[参考](https://www.zhihu.com/question/25536695/answer/221638079)

1. Call ID映射寻址，本地可以通过函数指针来指定的，但是远程调用指针是不行的，两个进城的地址空间是完全不一样的。所以，在RPC中，每个函数都要有自己的ID，这个ID在所有进城中都是唯一的，做远程调用的时候附上这个ID，并且客户端和服务端要维护一个{函数<-->CallID}的对应表。client和server通过查表确定调用什么函数。
2. 序列化和反序列化，本地调用，参数函数从栈里调用就好了。远程调用的时候，client和sever没办法通过内存来传递参数。有时甚至都不是一种语言。这个时候客户端会先把参数转化成字节流，传给服务端，服务端再把字节流转成自己能读取的格式。这个过程就是序列化和反序列化。同理，服务端返回的值也需要序列化和反序列化。
3. 网络传输，传输协议其实是不限的，能完成传输就行。尽管大部分RPC框架都使用TCP协议，但其实UDP也可以，而gRPC干脆就用了HTTP2。